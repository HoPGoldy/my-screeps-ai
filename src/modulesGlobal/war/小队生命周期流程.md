# 小队生命流程

本文介绍一个小队从发布到死亡的各个阶段的模块参与情况。

## 发布

调用指定战争进程，发布小队，发布会指定小队的类型、是否需要 boost 以及目标旗帜。

【如果需要强化】发布时会检查房间里的 boost 材料是否足够，不足的话将拒绝发布。
同时还会检查房间的能量上限是否大于小队孵化所用能量，不大于证明房间没有能力孵化本小队。

## 动员

动员阶段是指从发布到对应的 creep 单位准备就绪中间的过程，具体如下：

*动员管理器负责管理*

- 【如果需要强化】发布强化材料搬运任务，并等待材料填充完成
- 等待房间能量填充完成，以及空闲的 spawn 足够
- 执行孵化
- 孵化完成后一起去 boost
- boost 完成后通知战争进程发布新小队

## 转移

新小队建立后将被设置为转移模式，此时小队将尽力避战，切换为移动队形，直到抵达目标房间

## 战斗

进入目标房间后将切换为战斗模式，组织战斗对象，按照小队逻辑进行战斗

此时将找到目标路径点，并按照寻路尝试发起进攻。当有小队成员可以抵达目标路径点后，更新路径点并继续进攻，直到抵达战争目标旗帜。

## 战争胜利

小队成员自由挑选房间内目标并开始歼灭。

## 队员阵亡

向所属战争进程提交阵亡信息，战争进程将暂时控制存活队员、解散原小队并尝试组成新小队
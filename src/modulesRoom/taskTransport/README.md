# 房间物流任务模块

房间物流是指处理房间以内、中央集群以外的能量及资源转移任务，由 manager 角色负责。

# 房间物流任务

- spawn 及 extension 能量填充
- tower 能量填充
- lab 资源存取
- nuker 资源填充

# 与中央物流的区别

由于中央物流所参与的建筑较少（storage、terminal、factory 以及中央 link），所以在中央物流队列里发布的任务都是标准的资源转移任务：拥有确定的资源提供建筑、资源接收建筑、资源类型以及转移量。`processor` 在处理时只靠任务里提供的信息就可以完成转交。而房间物流不同，房间内的物流任务可变性太高。通过标准的资源转移任务很难实现（例如每个 extension 都发布一个到自己的资源转移任务的话会导致队列里突然塞入大量的任务从而出现 cpu 飙升），所以 `manager` 针对每个任务都会由不同的处理方式，并且在处理时会根据任务提供的信息再结合自己的 `Room.find` 之类来完成任务。 

物流任务

- 从哪：【可选】为空时默认从 storage、terminal 里取，支持传入 id 或者一个 pos
- 搬到哪：必填，可以传入 id 或者一个 pos，或者一个建筑类型
- 搬什么：必填，一个资源类型
- 搬多少：【可选】为空时将一直搬运，直到目标建筑满了或者来源建筑空了